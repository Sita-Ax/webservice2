{"version":3,"sources":["components/general/Navbar.js","components/service/UserService.js","components/views/Login.js","components/views/Register.js","components/product/Product.js","components/product/ProductForm.js","App.js","index.js"],"names":["Navbar","loggedIn","className","serverURL","UserService","registerUser","input","a","fetch","method","responseType","headers","body","JSON","stringify","username","password","res","text","data","loginUser","credentials","name","defaultErrorMsg","Login","setLoggedIn","setToken","useState","setInput","showMessage","setShowMessage","message","setMessage","useEffect","timerId","setTimeout","clearTimeout","handleSubmit","e","preventDefault","handleChange","target","value","msg","id","onSubmit","type","placeholder","onChange","required","autoComplete","defaultInputString","repassword","Register","Product","product","token","favorite","setFavoriteProducts","clicked","setClicked","style","color","description","price","disabled","onClick","then","response","ok","Error","console","log","catch","error","ProductForm","resetStates","addProduct","setProduct","logout","variant","marginLeft","pattern","App","products","setProducts","favoriteProducts","updateState","addToken","resp","addFavoriteProduct","successLoggedIn","fetchAll","useCallback","path","json","Products","map","index","some","obj","FavoriteProducts","EmptyProductList","width","textAlign","marginTop","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54568891.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Navbar = ({ loggedIn }) => {\r\n  return (\r\n    <div className=\"Navbar\">\r\n      <h1 className=\"Navbar-title\">Product shop</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","const serverURL = \"http://localhost:8080/user\";\r\n\r\nconst UserService = {\r\n  registerUser: async (input) => {\r\n    try {\r\n      const res = await fetch(serverURL + \"/register\", {\r\n        method: \"PUT\",\r\n        responseType: \"text\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          username: input.username,\r\n          password: input.password,\r\n        }),\r\n      });\r\n      const data = await res.text();\r\n      return data;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  },\r\n  loginUser: async (credentials) => {\r\n    try {\r\n      const res = await fetch(serverURL + \"/login\", {\r\n        method: \"POST\",\r\n        responseType: \"text\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          username: credentials.name,\r\n          password: credentials.password,\r\n        },\r\n      });\r\n      const data = await res.text();\r\n      return data === \"\" ? \"error\" : data;\r\n    } catch (error) {\r\n      return \"error\";\r\n    }\r\n  },\r\n};\r\n\r\nexport default UserService;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport UserService from \"../service/UserService\";\r\n\r\nconst defaultErrorMsg = \"Invalid information, check your input!\";\r\n\r\nconst Login = ({ setLoggedIn, setToken }) => {\r\n  const [input, setInput] = useState({ name: \"\", password: \"\" });\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [message, setMessage] = useState(defaultErrorMsg);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => setShowMessage(false), 5000);\r\n    //Clean up callback\r\n    return () => clearTimeout(timerId);\r\n  }, [showMessage]);\r\n\r\n  const loginUser = async (credentials) => {\r\n    const data = await UserService.loginUser(credentials);\r\n    if (data !== \"error\") {\r\n      setToken(data);\r\n      setLoggedIn();\r\n    } else {\r\n      setMessage(defaultErrorMsg);\r\n      setShowMessage(true);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!input.name || !input.password) return;\r\n    await loginUser(input);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setInput({ ...input, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showMessage && <message msg={message} />}\r\n      <div className=\"container\">\r\n        <div className=\"login\">\r\n          <form id=\"login\" onSubmit={handleSubmit}>\r\n            <h1 id=\"login-title\">Sign in here!</h1>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              name=\"name\"\r\n              value={input.name || \"\"}\r\n              placeholder=\"User Name\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input\"\r\n              name=\"password\"\r\n              value={input.password || \"\"}\r\n              placeholder=\"Password\"\r\n              onChange={handleChange}\r\n              required\r\n              autoComplete=\"off\"\r\n            />\r\n\r\n            <button type=\"submit\" id=\"login-button\">\r\n              Login\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport UserService from \"../service/UserService\";\r\n\r\nconst defaultInputString = { username: \"\", password: \"\", repassword: \"\" };\r\nconst defaultErrorMsg = \"Invalid information, check your input!\";\r\n\r\nconst Register = () => {\r\n  const [input, setInput] = useState(defaultInputString);\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [message, setMessage] = useState(defaultErrorMsg);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => setShowMessage(false), 5000);\r\n    //Clean up callback\r\n    return () => clearTimeout(timerId);\r\n  }, [showMessage]);\r\n\r\n  const registerUser = async () => {\r\n    const data = await UserService.registerUser(input);\r\n    setMessage(data);\r\n    setShowMessage(true);\r\n    setInput(defaultInputString);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (input.password === input.repassword) {\r\n      registerUser();\r\n    } else {\r\n      setMessage(defaultErrorMsg);\r\n      setShowMessage(true);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setInput({ ...input, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showMessage && <message msg={message} />}\r\n      <div className=\"container\">\r\n        <div className=\"signup\">\r\n          <form id=\"signup\" onSubmit={handleSubmit}>\r\n            <h1 id=\"signup-title\">Sign up here!</h1>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              name=\"username\"\r\n              value={input.username || \"\"}\r\n              placeholder=\"User Name\"\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input\"\r\n              name=\"password\"\r\n              value={input.password || \"\"}\r\n              placeholder=\"Password\"\r\n              onChange={handleChange}\r\n              required\r\n              autoComplete=\"off\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"input\"\r\n              name=\"repassword\"\r\n              value={input.repassword || \"\"}\r\n              placeholder=\"Re-enter Password\"\r\n              onChange={handleChange}\r\n              required\r\n              autoComplete=\"off\"\r\n            />\r\n            <button type=\"submit\" id=\"signup-button\">\r\n              Create\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst serverURL = \"http://localhost:8080\";\r\nconst defaultErrorMsg = \"Invalid information, check your input!\";\r\n\r\nfunction Product({ product, token, favorite, setFavoriteProducts }) {\r\n  const [clicked, setClicked] = useState(favorite);\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [message, setMessage] = useState(defaultErrorMsg);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => setShowMessage(false), 5000);\r\n    //Clean up callback\r\n    return () => clearTimeout(timerId);\r\n  }, [showMessage]);\r\n\r\n  const addToFavorite = () => {\r\n    fetch(serverURL + \"/product/add-favorite\", {\r\n      method: \"PUT\",\r\n      responseType: \"text\",\r\n      headers: {\r\n        \"Content-Type\": \"text/plain\",\r\n        token,\r\n      },\r\n      body: product.name,\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) throw new Error(defaultErrorMsg);\r\n\r\n        return response.text();\r\n      })\r\n      .then((data) => {\r\n        setClicked(true);\r\n        setFavoriteProducts(product);\r\n\r\n        setMessage(data);\r\n        //  TODO handle show message resets after added not showing message\r\n        setShowMessage(true);\r\n        console.log(data); // Receive messages but cant show it -_-\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      {showMessage && (\r\n        <div\r\n          className=\"product-message\"\r\n          id=\"product-message\"\r\n          style={{ color: \"red\" }}\r\n        >\r\n          <strong>{message}</strong>\r\n        </div>\r\n      )}\r\n      <h4>{product.name}</h4>\r\n      <p>{product.description}</p>\r\n      <p>{product.price}</p>\r\n      <button disabled={clicked} onClick={addToFavorite}>\r\n        <button color={clicked ? \"secondary\" : \"primary\"} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst serverURL = \"http://localhost:8080\";\r\nconst defaultInputString = { name: \"\", description: \"\", price: \"\" };\r\n\r\nfunction ProductForm({ token, resetStates, addProduct }) {\r\n  const [product, setProduct] = useState(defaultInputString);\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [message, setMessage] = useState(defaultInputString);\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => setShowMessage(false), 5000);\r\n    //Clean up callback\r\n    return () => clearTimeout(timerId);\r\n  }, [showMessage]);\r\n\r\n  const logout = async () => {\r\n    await fetch(serverURL + \"/user/logout\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        token,\r\n      },\r\n    });\r\n    resetStates();\r\n  };\r\n\r\n  const createProduct = (input) => {\r\n    fetch(serverURL + \"/product/create\", {\r\n      method: \"PUT\",\r\n      responseType: \"text\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        token,\r\n      },\r\n      body: JSON.stringify({\r\n        name: input.name,\r\n        description: input.description,\r\n        price: input.price,\r\n      }),\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          addProduct(product);\r\n          setProduct(defaultInputString);\r\n        }\r\n        return response.text();\r\n      })\r\n      .then((data) => {\r\n        setMessage(data);\r\n        setShowMessage(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!product.name || !product.description || !product.price) return;\r\n    createProduct(product);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setProduct({ ...product, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showMessage && <message msg={message} />}\r\n      <div className=\"container\">\r\n        <button\r\n          id=\"logout-button\"\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={() => logout()}\r\n        >\r\n          Logout\r\n        </button>\r\n        <div className=\"login\">\r\n          <form onSubmit={handleSubmit}>\r\n            <h3\r\n              style={{\r\n                marginLeft: \"3em\",\r\n              }}\r\n            >\r\n              Product information:\r\n            </h3>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              name=\"name\"\r\n              value={product.name}\r\n              placeholder=\"Product Name\"\r\n              required\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              name=\"description\"\r\n              value={product.description}\r\n              placeholder=\"Description\"\r\n              required\r\n              onChange={handleChange}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              name=\"price\"\r\n              pattern=\"[0-9]*\"\r\n              value={product.price}\r\n              placeholder=\"Price\"\r\n              required\r\n              onChange={handleChange}\r\n            />\r\n            <button type=\"submit\" id=\"login-button\">\r\n              Create\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProductForm;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport Navbar from \"./components/general/Navbar\";\nimport Login from \"./components/views/Login\";\nimport Register from \"./components/views/Register\";\nimport Product from \"./components/product/Product\";\nimport ProductForm from \"./components/product/ProductForm\";\n\nconst serverURL = \"http://localhost:8080\";\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [favoriteProducts, setFavoriteProducts] = useState([]);\n  const [token, setToken] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const updateState = () => {\n    setLoggedIn(false);\n    setToken(\"\");\n  };\n\n  const addToken = (resp) => {\n    setToken(resp);\n  };\n\n  const addFavoriteProduct = (product) => {\n    setFavoriteProducts([...favoriteProducts, product]);\n  };\n\n  const addProduct = (product) => {\n    setProducts([...products, product]);\n  };\n\n  const successLoggedIn = () => {\n    setLoggedIn(true);\n  };\n\n  const fetchAll = useCallback(\n    (path) => {\n      fetch(serverURL + path, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token,\n        },\n      })\n        .then((res) => {\n          return res.json();\n        })\n        .then((data) => {\n          if (path === \"/product/all\") {\n            setProducts(data);\n          } else {\n            setFavoriteProducts(data);\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n        });\n    },\n    [token]\n  );\n  useEffect(() => {\n    if (loggedIn) {\n      fetchAll(\"/product/all\");\n      fetchAll(\"/product/favorites\");\n    }\n  }, [loggedIn, fetchAll]);\n\n  // Filter to remove favorites from product list\n  /* products\n        .filter((value) =>\n            favoriteProducts.every(\n                (value2) => !value2.name.includes(value.name)\n            )\n        )\n    */\n  const Products = () => {\n    return (\n      <div className=\"container\">\n        <h1>All Products In Stock</h1>\n        {products.map((product, index) => (\n          <Product\n            key={index}\n            product={product}\n            token={token}\n            favorite={favoriteProducts.some((obj) => obj.name === product.name)}\n            setFavoriteProducts={addFavoriteProduct}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const FavoriteProducts = () => {\n    return (\n      <div className=\"container\">\n        <h1>My Favorite Products</h1>\n        {favoriteProducts.map((product, index) => (\n          <Product\n            key={index}\n            product={product}\n            token={token}\n            favorite={true}\n            setFavoriteProducts={addFavoriteProduct}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const EmptyProductList = () => {\n    return (\n      <h1 style={{ width: \"100%\", textAlign: \"center\", marginTop: \"10px\" }}>\n        Nothing to show here! ʕ •ᴥ•ʔ\n      </h1>\n    );\n  };\n\n  const loggedInView = () => {\n    return (\n      <>\n        <ProductForm\n          token={token}\n          resetStates={updateState}\n          addProduct={addProduct}\n        />\n        <div>\n          <Products />\n          {products.length === 0 && <EmptyProductList />}\n        </div>\n        <div>\n          <FavoriteProducts />\n          {favoriteProducts.length === 0 && <EmptyProductList />}\n        </div>\n      </>\n    );\n  };\n\n  const logInView = () => {\n    return (\n      <div className=\"user-form\">\n        <Login setLoggedIn={successLoggedIn} setToken={addToken} />\n        <Register />\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"app\">\n      <Navbar />\n      {loggedIn ? loggedInView() : logInView()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}